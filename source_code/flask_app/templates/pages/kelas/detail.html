{% extends "layouts/base.html" %}
{% block content %}

<div class="flex justify-between items-center mb-4">
    <h3 class="text-2xl font-semibold">Detail Kelas</h3>

    <a href="{{ url_for('kelas.index') }}" class="btn btn-secondary">
        Kembali
    </a>
</div>

<!-- FORM TAMBAH MAHASISWA -->
<div class="card mb-4 p-4">
    <h5 class="font-semibold mb-2">Tambah Mahasiswa ke Kelas</h5>

    <form method="POST"
          action="{{ url_for('kelas.tambah_mahasiswa', id_kelas=id_kelas) }}"
          class="flex gap-2">

        <input type="text"
               name="id_mahasiswa"
               class="form-control"
               placeholder="ID Mahasiswa"
               required>

        <button class="btn btn-primary">
            Tambah
        </button>
    </form>
</div>

<!-- LIST MAHASISWA -->
<table class="table table-bordered table-striped">
    <thead class="table-dark">
        <tr>
            <th>#</th>
            <th>ID Mahasiswa</th>
            <th class="text-center">Aksi</th>
        </tr>
    </thead>
    <tbody>
        {% if daftar_mahasiswa %}
            {% for m in daftar_mahasiswa %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ m.id_mahasiswa }}</td>
                    <td class="text-center">
                        <form method="POST"
                              action="{{ url_for('kelas.hapus_mahasiswa_kelas', id=m.id) }}"
                              onsubmit="return confirm('Keluarkan mahasiswa ini dari kelas?')">
                            <button class="btn btn-sm btn-danger">
                                Hapus
                            </button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td colspan="3" class="text-center py-4">
                    Belum ada mahasiswa di kelas ini.
                </td>
            </tr>
        {% endif %}
    </tbody>
</table>

{% endblock %}
